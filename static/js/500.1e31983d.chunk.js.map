{"version":3,"file":"static/js/500.1e31983d.chunk.js","mappings":"0NACA,GAAgB,OAAS,4BAA4B,WAAa,gCAAgC,UAAY,+BAA+B,WAAa,gCAAgC,eAAiB,oCAAoC,eAAiB,qC,SCwFhQ,EApFqB,WAAO,IAAD,IACnBA,GAAWC,EAAAA,EAAAA,MACjB,GAA0BC,EAAAA,EAAAA,UAAS,CAAC,GAApC,eAAOC,EAAP,KAAcC,EAAd,KAEMC,GAAsBC,EAAAA,EAAAA,QAAM,oBAACN,EAASG,aAAV,aAAC,EAAgBI,YAAjB,QAAyB,WAEnDC,GAAYC,EAAAA,EAAAA,MAAZD,QACFE,EAAG,6CAAyCF,GAmBlD,OAhBAG,EAAAA,EAAAA,YAAU,WAURC,MAAMF,EATU,CACdG,OAAQ,MACRC,QAAS,CACPC,OAAQ,mBACRC,cACE,gOAKHC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAb,IACbF,MAAK,SAAAE,GAAI,OAAIf,EAASe,EAAb,IACTC,OAAM,SAAAC,GAAY,OAAIC,QAAQC,IAAI,kBAAmBF,EAAnC,GACtB,GAAE,CAACX,KAGF,iCACE,UAAC,KAAD,CAAMc,GAAInB,EAAoBoB,QAASC,UAAWC,EAAAA,OAAlD,UACG,IADH,UAEU,QAGV,iBAAKD,UAAWC,EAAAA,WAAhB,WACE,gBACEC,IAAG,0CAAqCzB,EAAM0B,aAC9CC,IAAI,gBACJJ,UAAWC,EAAAA,UAEb,iBAAKD,UAAWC,EAAAA,UAAhB,WACE,0BACGxB,EAAM4B,MADT,KACkB,IAAIC,KAAK7B,EAAM8B,cAAcC,cAD/C,QAGA,uCAEG/B,EAAMgC,aAA+C,GAAhChC,EAAMgC,aAAaC,QAAQ,GAAU,GAF7D,QAIA,sCACA,uBAAIjC,EAAMkC,YACV,oCACA,uBACGlC,EAAMmC,QAAUnC,EAAMmC,OAAOC,KAAI,SAAAC,GAAK,OAAIA,EAAMC,IAAV,IAAgBC,KAAK,cAKlE,4BACE,cAAGhB,UAAWC,EAAAA,WAAd,qCACA,gBAAID,UAAWC,EAAAA,eAAf,WACE,eAAID,UAAWC,EAAAA,eAAf,UACE,SAAC,KAAD,CACEH,GAAE,kBAAahB,EAAb,SACFL,MAAOE,EAAoBoB,QAF7B,qBAOF,eAAIC,UAAWC,EAAAA,eAAf,UACE,SAAC,KAAD,CACEH,GAAE,kBAAahB,EAAb,YACFL,MAAOE,EAAoBoB,QAF7B,8BASN,SAAC,EAAAkB,SAAD,CAAUC,UAAU,wCAApB,UACE,SAAC,KAAD,QAIP,C","sources":["webpack://react-homework-template/./src/pages/MovieDetals/MovieDetals.module.css?6a64","pages/MovieDetals/MovieDetails.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"GoBack\":\"MovieDetals_GoBack__Zog7-\",\"WrappMovie\":\"MovieDetals_WrappMovie__NEQnO\",\"InfoMovie\":\"MovieDetals_InfoMovie__5d0s+\",\"Additional\":\"MovieDetals_Additional__cXnnx\",\"AdditionalList\":\"MovieDetals_AdditionalList__eNsn6\",\"AdditionalItem\":\"MovieDetals_AdditionalItem__a30Zj\"};","import { Suspense } from 'react';\nimport { Link, Outlet, useLocation, useParams } from 'react-router-dom';\nimport { useState, useEffect, useRef } from 'react';\nimport css from '../MovieDetals/MovieDetals.module.css';\n\nconst MovieDetails = () => {\n  const location = useLocation();\n  const [state, setState] = useState({});\n\n  const backLinkLocationRef = useRef(location.state?.from ?? '/movies');\n\n  const { movieId } = useParams();\n  const url = `https://api.themoviedb.org/3/movie/${movieId}`;\n\n  // http запрос\n  useEffect(() => {\n    const options = {\n      method: 'GET',\n      headers: {\n        accept: 'application/json',\n        Authorization:\n          'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI4NTMwMzRiNTI4MTY1YzE4MjQwMTM2YzBmMzM4MjRjMCIsInN1YiI6IjY0ZTgzZWYzOTBlYTRiMDExZTc4ZTgwYiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.juvbZHO-iDNDBDlHJ9qABEJJAP9FTBctGdor2APc3oc',\n      },\n    };\n\n    fetch(url, options)\n      .then(response => response.json())\n      .then(json => setState(json))\n      .catch(errorMessage => console.log('Error message: ', errorMessage));\n  }, [url]);\n\n  return (\n    <>\n      <Link to={backLinkLocationRef.current} className={css.GoBack}>\n        {' '}\n        Go back{' '}\n      </Link>\n\n      <div className={css.WrappMovie}>\n        <img\n          src={`https://image.tmdb.org/t/p/w200/${state.poster_path}`}\n          alt=\"Movies poster\"\n          className={css.Poster}\n        />\n        <div className={css.InfoMovie}>\n          <h2>\n            {state.title} ({new Date(state.release_date).getFullYear()})\n          </h2>\n          <p>\n            User score:\n            {state.vote_average ? state.vote_average.toFixed(1) * 10 : ''}%\n          </p>\n          <h3>Overview</h3>\n          <p>{state.overview}</p>\n          <h3>Genres</h3>\n          <p>\n            {state.genres && state.genres.map(movie => movie.name).join(' ')}\n          </p>\n        </div>\n      </div>\n\n      <div>\n        <p className={css.Additional}>Additional information</p>\n        <ul className={css.AdditionalList}>\n          <li className={css.AdditionalItem}>\n            <Link\n              to={`/movies/${movieId}/cast`}\n              state={backLinkLocationRef.current}\n            >\n              Cast\n            </Link>\n          </li>\n          <li className={css.AdditionalItem}>\n            <Link\n              to={`/movies/${movieId}/reviews`}\n              state={backLinkLocationRef.current}\n            >\n              Reviews\n            </Link>\n          </li>\n        </ul>\n      </div>\n      <Suspense fallback={<div>Loading...</div>}>\n        <Outlet />\n      </Suspense>\n    </>\n  );\n};\n\nexport default MovieDetails;\n"],"names":["location","useLocation","useState","state","setState","backLinkLocationRef","useRef","from","movieId","useParams","url","useEffect","fetch","method","headers","accept","Authorization","then","response","json","catch","errorMessage","console","log","to","current","className","css","src","poster_path","alt","title","Date","release_date","getFullYear","vote_average","toFixed","overview","genres","map","movie","name","join","Suspense","fallback"],"sourceRoot":""}